<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Korean Review - Set 1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans KR', sans-serif; }
        .quiz-option {
            transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
        }
        .quiz-option:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .disabled { pointer-events: none; opacity: 0.7; }
        #progress-bar, #feedback-modal { transition: all 0.3s ease-in-out; }
        .correct {
            background-color: #ecfdf5 !important;
            border-color: #22c55e !important;
        }
        .incorrect {
            background-color: #fff1f2 !important;
            border-color: #ef4444 !important;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">
    <div class="w-full max-w-xl">
        <div id="quiz-screen" class="bg-white rounded-2xl shadow-2xl p-6 md:p-8 hidden">
            <div id="quiz-header" class="mb-6">
                <p class="text-sm font-semibold text-indigo-600">Set 1</p>
                <p id="question-counter" class="text-sm font-semibold text-indigo-600">Question 1 of 50</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full" style="width: 2%"></div>
                </div>
            </div>
            <div id="question-container">
                <p id="question-text" class="text-xl md:text-2xl font-bold text-gray-900 mb-4 min-h-[5rem]"></p>
                <p id="question-hint" class="text-base text-gray-500 mb-6 p-3 bg-gray-50 rounded-lg"></p>
                <div id="options-container" class="space-y-3"></div>
            </div>
        </div>
        <div id="start-screen" class="text-center">
            <h1 class="text-4xl md:text-5xl font-black text-gray-800">Final Korean Review</h1>
            <p class="text-gray-600 mt-4 text-lg">Set 1: Basic Grammar & Vocabulary</p>
            <button id="start-btn" class="w-full max-w-sm mx-auto mt-8 bg-indigo-600 text-white font-bold py-4 px-4 rounded-xl hover:bg-indigo-700 transition duration-300 text-xl shadow-lg">Start Quiz (50 Questions)</button>
        </div>
        <div id="end-screen" class="hidden text-center bg-white rounded-2xl shadow-2xl p-8 md:p-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Set 1 Complete!</h1>
            <p class="text-gray-600 mt-2 text-xl">ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!</p>
            <div class="my-8">
                <p class="text-lg text-gray-700">Your Score:</p>
                <p id="final-score" class="text-6xl font-black text-indigo-600 my-1"></p>
                <p id="score-percentage" class="text-2xl font-semibold text-gray-500"></p>
            </div>
            <button id="restart-btn" class="w-full max-w-sm mx-auto bg-indigo-600 text-white font-bold py-4 px-4 rounded-xl hover:bg-indigo-700 transition">Restart Set 1</button>
        </div>
    </div>
    <div id="feedback-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-white w-full max-w-md rounded-2xl shadow-xl p-6 text-center">
            <h2 id="feedback-title" class="text-2xl font-bold mb-2"></h2>
            <p id="feedback-text" class="text-gray-700 text-lg mb-6"></p>
            <button id="modal-btn" class="w-full text-white font-bold py-3 px-4 rounded-xl transition">Next Question</button>
        </div>
    </div>
    <script>
        const quizData = [
            { question: "Which word means 'office worker'?", options: ["í•™ìƒ", "íšŒì‚¬ì›", "ì„ ìƒë‹˜", "ê²½ì°°"], answer: 1, hint: "ðŸ“Œ Hint: 'íšŒì‚¬' means 'company'. What would a person who works at a company be called?", explanation: "'íšŒì‚¬ì›' is correct. It combines 'íšŒì‚¬' (company) and 'ì›' (member)." },
            { question: "How do you say 'I am a student.'?", options: ["ì €ëŠ” í•™ìƒì´ì—ìš”.", "ì €ëŠ” ì„ ìƒë‹˜ì´ì—ìš”.", "ì €ëŠ” ì˜ì‚¬ì˜ˆìš”.", "ì €ëŠ” ê²½ì°°ì´ì—ìš”."], answer: 0, hint: "ðŸ“Œ Hint: The word for 'student' is 'í•™ìƒ'. How do you attach the 'to be' verb?", explanation: "'ì €ëŠ” í•™ìƒì´ì—ìš”.' is the correct sentence structure for 'I am a student.'" },
            { question: "Choose the correct particle: 'ì´ê²ƒ___ ì±…ì´ì—ìš”.' (This is a book.)", options: ["ì€", "ëŠ”", "ì´", "ê°€"], answer: 0, hint: "ðŸ“Œ Hint: The noun 'ì´ê²ƒ' ends in a consonant. Which topic particle follows a consonant?", explanation: "'ì€' is correct. The topic particle 'ì€' is used after nouns ending in a consonant." },
            { question: "Choose the correct particle: 'ì €ëŠ”___ í•œêµ­ ì‚¬ëžŒì´ì—ìš”.' (I am a Korean person.)", options: ["ì€", "ëŠ”", "ì´", "ê°€"], answer: 1, hint: "ðŸ“Œ Hint: The pronoun 'ì €' ends in a vowel. Which topic particle follows a vowel?", explanation: "'ëŠ”' is correct. The topic particle 'ëŠ”' is used after nouns ending in a vowel." },
            { question: "Which verb means 'to exercise'?", options: ["ê³µë¶€í•´ìš”", "ì¼í•´ìš”", "ìš´ë™í•´ìš”", "ì „í™”í•´ìš”"], answer: 2, hint: "ðŸ“Œ Hint: This word is often associated with health and gyms.", explanation: "'ìš´ë™í•´ìš”' is the verb for 'to exercise'." },
            { question: "What does 'ì§‘' mean?", options: ["School", "Bank", "House", "Market"], answer: 2, hint: "ðŸ“Œ Hint: This is the place where you sleep and live with your family.", explanation: "'ì§‘' means 'house' or 'home'." },
            { question: "What does 'ì–´ë””ì— ê°€ìš”?' mean?", options: ["What are you doing?", "Where are you from?", "Where are you going?", "What is this?"], answer: 2, hint: "ðŸ“Œ Hint: 'ì–´ë””' means 'where' and 'ê°€ìš”' means 'go'.", explanation: "'ì–´ë””ì— ê°€ìš”?' is the standard way to ask 'Where are you going?'." },
            { question: "How do you respond to 'ë­ í•´ìš”?' if you are sleeping?", options: ["ì¼í•´ìš”.", "ê³µë¶€í•´ìš”.", "ìžìš”.", "ë´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: The verb for 'to sleep' is 'ìžë‹¤'.", explanation: "'ìžìš”' is the polite present tense of 'ìžë‹¤' (to sleep)." },
            { question: "Which word means 'restaurant'?", options: ["í•™êµ", "ì€í–‰", "ì‹œìž¥", "ì‹ë‹¹"], answer: 3, hint: "ðŸ“Œ Hint: This is a place where you go to eat food.", explanation: "'ì‹ë‹¹' means 'restaurant'." },
            { question: "What is the past tense of 'ì½ë‹¤' (to read)?", options: ["ì½ì•˜ì–´ìš”", "ì½ì—ˆì–´ìš”", "ì½í–ˆì–´ìš”", "ì½ë‹¤ì—ˆì–´ìš”"], answer: 1, hint: "ðŸ“Œ Hint: For verb stems ending in a consonant that is not 'ã…' or 'ã…—', you add 'ì—ˆì–´ìš”'.", explanation: "'ì½ì—ˆì–´ìš”' is the correct past tense form." },
            { question: "Which word means 'on top of'?", options: ["ë°‘ì—", "ì˜†ì—", "ìœ„ì—", "ì•ˆì—"], answer: 2, hint: "ðŸ“Œ Hint: Think of a table. Where would you put a cup?", explanation: "'ìœ„ì—' means 'on' or 'on top of'." },
            { question: "Fill in the blank: 'ì±…ìƒ___ ì˜ìžê°€ ìžˆì–´ìš”.'", options: ["ìœ„ì—", "ë°‘ì—", "ì˜†ì—", "ì•ˆì—"], answer: 2, hint: "ðŸ“Œ Hint: 'Next to' is the most common position for a chair relative to a desk.", explanation: "'ì˜†ì—' means 'next to' or 'beside'." },
            { question: "What does 'ì—†ì–´ìš”' mean?", options: ["There is/are", "I have", "There isn't/aren't", "It is"], answer: 2, hint: "ðŸ“Œ Hint: This is the opposite of 'ìžˆì–´ìš”'.", explanation: "'ì—†ì–´ìš”' means 'there isn't/aren't' or 'to not have'." },
            { question: "How do you say 'The cat is under the desk'?", options: ["ê³ ì–‘ì´ê°€ ì±…ìƒ ìœ„ì— ìžˆì–´ìš”.", "ê³ ì–‘ì´ê°€ ì±…ìƒ ì˜†ì— ìžˆì–´ìš”.", "ê³ ì–‘ì´ê°€ ì±…ìƒ ë°‘ì— ìžˆì–´ìš”.", "ê³ ì–‘ì´ê°€ ì±…ìƒ ì•ˆì— ìžˆì–´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: The word for 'under' or 'below' is 'ë°‘ì—'.", explanation: "'ë°‘ì—' means 'under', so 'ê³ ì–‘ì´ê°€ ì±…ìƒ ë°‘ì— ìžˆì–´ìš”' is correct." },
            { question: "What does 'ì´ê±° ë­ì˜ˆìš”?' mean?", options: ["How much is it?", "Is this spicy?", "What is this?", "Please give me this."], answer: 2, hint: "ðŸ“Œ Hint: 'ì´ê±°' means 'this thing' and 'ë­' means 'what'.", explanation: "'ì´ê±° ë­ì˜ˆìš”?' is the phrase for 'What is this?'." },
            { question: "How do you ask for water at a restaurant?", options: ["ë¬¼ ì¢€ ì£¼ì„¸ìš”.", "ë°¥ ì¢€ ì£¼ì„¸ìš”.", "ë°˜ì°¬ ì¢€ ì£¼ì„¸ìš”.", "ê¹€ì¹˜ ì¢€ ì£¼ì„¸ìš”."], answer: 0, hint: "ðŸ“Œ Hint: The Korean word for 'water' is 'ë¬¼'. 'ì£¼ì„¸ìš”' means 'please give me'.", explanation: "'ë¬¼ ì¢€ ì£¼ì„¸ìš”' is the polite way to ask for water." },
            { question: "Which particle marks the location of an action?", options: ["ì—", "ì—ì„œ", "ì„/ë¥¼", "ì€/ëŠ”"], answer: 1, hint: "ðŸ“Œ Hint: If you 'study' AT the library, which particle do you use for 'library'?", explanation: "'ì—ì„œ' is used to mark the location where an action takes place (e.g., 'ë„ì„œê´€ì—ì„œ ê³µë¶€í•´ìš”'). 'ì—' marks a destination or static location." },
            { question: "What is the past tense of 'ë³´ë‹¤' (to see)?", options: ["ë³´ì•˜ì–´ìš”", "ë´¤ì–´ìš”", "ë´ˆì–´ìš”", "ë³´í–ˆì–´ìš”"], answer: 1, hint: "ðŸ“Œ Hint: The vowel 'ã…—' combines with 'ì•˜ì–´ìš”' to become 'ì™”ì–´ìš”'.", explanation: "'ë´¤ì–´ìš”' is the contracted and most common past tense form of 'ë³´ë‹¤'." },
            { question: "Which word means 'yesterday'?", options: ["ì˜¤ëŠ˜", "ë‚´ì¼", "ì–´ì œ", "ëª¨ë ˆ"], answer: 2, hint: "ðŸ“Œ Hint: 'Today' is 'ì˜¤ëŠ˜', 'tomorrow' is 'ë‚´ì¼'.", explanation: "'ì–´ì œ' means 'yesterday'." },
            { question: "How do you say 'It's cold'?", options: ["ë”ì›Œìš”", "ì¶”ì›Œìš”", "ë”°ëœ»í•´ìš”", "ì‹œì›í•´ìš”"], answer: 1, hint: "ðŸ“Œ Hint: You say this during winter.", explanation: "'ì¶”ì›Œìš”' means 'it's cold'." },
            { question: "Which particle marks the object of a verb?", options: ["ì´/ê°€", "ì€/ëŠ”", "ì—/ì—ì„œ", "ì„/ë¥¼"], answer: 3, hint: "ðŸ“Œ Hint: In the sentence 'I eat an apple', 'apple' is the object. What particle would you attach to 'ì‚¬ê³¼'?", explanation: "'ì„/ë¥¼' is the object particle, attached to the noun that receives the action of the verb." },
            { question: "Fill in the blank: 'ì‚¬ê³¼___ ë¨¹ì–´ìš”.'", options: ["ë¥¼", "ê°€", "ëŠ”", "ì—"], answer: 0, hint: "ðŸ“Œ Hint: 'ì‚¬ê³¼' ends in a vowel. Which object particle follows a vowel?", explanation: "'ë¥¼' is correct because it's the object particle used after a noun ending in a vowel." },
            { question: "Fill in the blank: 'ë¹µ___ ë¨¹ì–´ìš”.'", options: ["ë¥¼", "ì„", "ì´", "ëŠ”"], answer: 1, hint: "ðŸ“Œ Hint: 'ë¹µ' ends in a consonant. Which object particle follows a consonant?", explanation: "'ì„' is correct because it's the object particle used after a noun ending in a consonant." },
            { question: "How do you make a verb negative?", options: ["Put 'ì•ˆ' after the verb", "Put 'ì•ˆ' before the verb", "Put 'ëª»' after the verb", "Put 'ì•„ë‹ˆ' before the verb"], answer: 1, hint: "ðŸ“Œ Hint: To say 'I don't go', you say 'ì•ˆ ê°€ìš”'.", explanation: "The simplest way to make a verb negative is to place 'ì•ˆ' directly before it." },
            { question: "Which word means 'Spring'?", options: ["ì—¬ë¦„", "ê°€ì„", "ê²¨ìš¸", "ë´„"], answer: 3, hint: "ðŸ“Œ Hint: This is the season when flowers bloom.", explanation: "'ë´„' means 'Spring'." },
            { question: "What does 'ëˆˆì´ ì™€ìš”' mean?", options: ["It's raining", "It's snowing", "The wind blows", "It's sunny"], answer: 1, hint: "ðŸ“Œ Hint: 'ëˆˆ' can mean 'eye' or 'snow'. In the context of weather, what does it mean?", explanation: "'ëˆˆì´ ì™€ìš”' means 'it's snowing'." },
            { question: "Which particle is used for specific times (e.g., at 3 o'clock)?", options: ["ì—", "ì—ì„œ", "í•˜ê³ ", "ìœ¼ë¡œ"], answer: 0, hint: "ðŸ“Œ Hint: This particle is used for both time and location.", explanation: "'ì—' is used to mark a specific point in time when an action occurs (e.g., '3ì‹œì— ë§Œë‚˜ìš”')." },
            { question: "How do you say 'I have Korean class on Monday'?", options: ["ì›”ìš”ì¼ì— í•œêµ­ì–´ ìˆ˜ì—…ì´ ìžˆì–´ìš”.", "ì›”ìš”ì¼ì—ì„œ í•œêµ­ì–´ ìˆ˜ì—…ì´ ìžˆì–´ìš”.", "ì›”ìš”ì¼ì„ í•œêµ­ì–´ ìˆ˜ì—…ì´ ìžˆì–´ìš”.", "ì›”ìš”ì¼ì€ í•œêµ­ì–´ ìˆ˜ì—…ì´ ìžˆì–´ìš”."], answer: 0, hint: "ðŸ“Œ Hint: 'Monday' is the specific time when you have class.", explanation: "'ì›”ìš”ì¼ì—' correctly marks Monday as the time the class happens." },
            { question: "Which word means 'this year'?", options: ["ìž‘ë…„", "ë‚´ë…„", "ì˜¬í•´", "ë§¤ë…„"], answer: 2, hint: "ðŸ“Œ Hint: 'ìž‘ë…„' is last year, 'ë‚´ë…„' is next year.", explanation: "'ì˜¬í•´' means 'this year'." },
            { question: "How do you read '10ì›”' (October)?", options: ["ì‹­ì›”", "ì‹œì›”", "ì—´ì›”", "ì‹­ì›”"], answer: 1, hint: "ðŸ“Œ Hint: June (6ì›”) and October (10ì›”) are read irregularly.", explanation: "'10ì›”' is pronounced 'ì‹œì›”', not 'ì‹­ì›”'." },
            { question: "How do you say 'I go to the company at 9 o'clock'?", options: ["9ì‹œì— íšŒì‚¬ì— ê°€ìš”.", "9ì‹œì—ì„œ íšŒì‚¬ì— ê°€ìš”.", "9ì‹œë¥¼ íšŒì‚¬ì— ê°€ìš”.", "9ì‹œëŠ” íšŒì‚¬ì— ê°€ìš”."], answer: 0, hint: "ðŸ“Œ Hint: You need to mark both the time and the destination.", explanation: "The sentence correctly uses 'ì—' for both the time ('9ì‹œì—') and the destination ('íšŒì‚¬ì—')." },
            { question: "Which word means 'tomorrow'?", options: ["ì˜¤ëŠ˜", "ì–´ì œ", "ëª¨ë ˆ", "ë‚´ì¼"], answer: 3, hint: "ðŸ“Œ Hint: 'Today' is 'ì˜¤ëŠ˜'.", explanation: "'ë‚´ì¼' means 'tomorrow'." },
            { question: "What does 'íšŒì˜' mean?", options: ["Class", "Test", "Meeting", "Homework"], answer: 2, hint: "ðŸ“Œ Hint: This is something you often do at a 'íšŒì‚¬' (company).", explanation: "'íšŒì˜' means 'meeting'." },
            { question: "How do you say 'I'm busy'?", options: ["ë°”ë¹ ìš”", "ì•„íŒŒìš”", "ì˜ˆë»ìš”", "í”¼ê³¤í•´ìš”"], answer: 0, hint: "ðŸ“Œ Hint: You would say this when you don't have time.", explanation: "'ë°”ë¹ ìš”' is the polite present tense of 'ë°”ì˜ë‹¤' (to be busy)." },
            { question: "How do you suggest 'Shall we meet tomorrow?'", options: ["ë‚´ì¼ ë§Œë‚˜ìš”?", "ë‚´ì¼ ë§Œë‚¬ì–´ìš”?", "ë‚´ì¼ ë§Œë‚  ê±°ì˜ˆìš”?", "ë‚´ì¼ ë§Œë‚ ê¹Œìš”?"], answer: 3, hint: "ðŸ“Œ Hint: The '-(ìœ¼)ã„¹ê¹Œìš”?' ending is used to make suggestions.", explanation: "'ë‚´ì¼ ë§Œë‚ ê¹Œìš”?' uses the '-(ìœ¼)ã„¹ê¹Œìš”?' grammar to politely suggest meeting tomorrow." },
            { question: "How do you respond positively to a suggestion?", options: ["ë¯¸ì•ˆí•´ìš”.", "ì‹œê°„ì´ ì—†ì–´ìš”.", "ë„¤, ì¢‹ì•„ìš”.", "ì•½ì†ì´ ìžˆì–´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: 'ì¢‹ë‹¤' means 'to be good'.", explanation: "'ë„¤, ì¢‹ì•„ìš”' means 'Yes, that's good' and is a common way to accept a suggestion." },
            { question: "Which word means 'now'?", options: ["ì•„ê¹Œ", "ë‚˜ì¤‘ì—", "ì§€ê¸ˆ", "ì˜¤ëŠ˜"], answer: 2, hint: "ðŸ“Œ Hint: It refers to the present moment.", explanation: "'ì§€ê¸ˆ' means 'now'." },
            { question: "What does 'ì–¸ì œ' mean?", options: ["Where", "What", "Who", "When"], answer: 3, hint: "ðŸ“Œ Hint: This question word is used to ask about time.", explanation: "'ì–¸ì œ' is the question word for 'when'." },
            { question: "What is the future tense of 'ê°€ë‹¤' (to go)?", options: ["ê°”ì–´ìš”", "ê°ˆ ê±°ì˜ˆìš”", "ê°ˆê¹Œìš”", "ê°€ìš”"], answer: 1, hint: "ðŸ“Œ Hint: The '-(ìœ¼)ã„¹ ê±°ì˜ˆìš”' ending is used for future plans.", explanation: "'ê°ˆ ê±°ì˜ˆìš”' is the correct future tense form, meaning 'I will go' or 'I am going to go'." },
            { question: "Which place is 'ê³ ê¶'?", options: ["Museum", "Art Museum", "Old Palace", "Amusement Park"], answer: 2, hint: "ðŸ“Œ Hint: 'ê³ ' means 'old' or 'ancient'. 'ê¶' means 'palace'.", explanation: "'ê³ ê¶' means 'old palace'." },
            { question: "What does 'ì‚¬ì§„ì„ ì°ë‹¤' mean?", options: ["To draw a picture", "To look at a picture", "To buy a picture", "To take a picture"], answer: 3, hint: "ðŸ“Œ Hint: You do this with a camera.", explanation: "'ì‚¬ì§„ì„ ì°ë‹¤' is the verb phrase for 'to take a picture'." },
            { question: "How do you say 'I was sick, SO I went to the hospital.'?", options: ["ì•„íŒ ì§€ë§Œ ë³‘ì›ì— ê°”ì–´ìš”.", "ì•„íŒŒì„œ ë³‘ì›ì— ê°”ì–´ìš”.", "ì•„í”„ê³  ë³‘ì›ì— ê°”ì–´ìš”.", "ì•„í”„ë©´ ë³‘ì›ì— ê°”ì–´ìš”."], answer: 1, hint: "ðŸ“Œ Hint: The '-(ì•„/ì–´)ì„œ' grammar is used to connect a reason to a result.", explanation: "'ì•„íŒŒì„œ' means 'because I was sick', connecting the reason to the result 'ë³‘ì›ì— ê°”ì–´ìš”'." },
            { question: "How do you ask 'Why'?", options: ["ì–´ë•Œìš”", "ì–¸ì œ", "ë­", "ì™œ"], answer: 3, hint: "ðŸ“Œ Hint: This is the most direct question word to ask for a reason.", explanation: "'ì™œ' is the question word for 'why'." },
            { question: "A friend asks 'í•œêµ­ì–´ ê³µë¶€ê°€ ì–´ë•Œìš”?'. How do you say 'It's fun'?", options: ["ì–´ë ¤ì›Œìš”.", "ì‰¬ì›Œìš”.", "ìž¬ë¯¸ìžˆì–´ìš”.", "ê´œì°®ì•„ìš”."], answer: 2, hint: "ðŸ“Œ Hint: 'ìž¬ë¯¸' means 'fun'.", explanation: "'ìž¬ë¯¸ìžˆì–´ìš”' means 'it's fun/interesting'." },
            { question: "The grammar '-(ìœ¼)ë©´ì„œ' describes:", options: ["A reason for an action", "Two actions happening at the same time", "An action that will happen in the future", "An action that happened in the past"], answer: 1, hint: "ðŸ“Œ Hint: Think about listening to music WHILE studying.", explanation: "'-(ìœ¼)ë©´ì„œ' is used to connect two actions that are performed simultaneously by the same person." },
            { question: "How do you say 'I study while listening to music'?", options: ["ìŒì•…ì„ ë“£ê³  ê³µë¶€í•´ìš”.", "ìŒì•…ì„ ë“¤ìœ¼ë©´ ê³µë¶€í•´ìš”.", "ìŒì•…ì„ ë“¤ìœ¼ë©´ì„œ ê³µë¶€í•´ìš”.", "ìŒì•…ì„ ë“¤ì–´ì„œ ê³µë¶€í•´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: 'ë“£ë‹¤' (to listen) + '-(ìœ¼)ë©´ì„œ' (while). Remember 'ë“£ë‹¤' is an irregular verb.", explanation: "'ìŒì•…ì„ ë“¤ìœ¼ë©´ì„œ ê³µë¶€í•´ìš”' correctly uses the '-(ìœ¼)ë©´ì„œ' grammar to show two simultaneous actions." },
            { question: "How do you conjugate 'ì–´ë µë‹¤' (to be difficult) in the past tense?", options: ["ì–´ë ¤ì›Œìš”", "ì–´ë ¤ì› ì–´ìš”", "ì–´ë µí–ˆì–´ìš”", "ì–´ë µë‹¤í–ˆì–´ìš”"], answer: 1, hint: "ðŸ“Œ Hint: 'ì–´ë µë‹¤' is a 'ã…‚' irregular verb. The 'ã…‚' changes when it meets a past tense ending.", explanation: "'ì–´ë ¤ì› ì–´ìš”' is correct. The 'ã…‚' changes to 'ìš°' and combines with '-ì—ˆì–´ìš”' to become '-ì› ì–´ìš”'." },
            { question: "Which particle is used for a tool or method?", options: ["í•˜ê³ ", "ì—", "(ìœ¼)ë¡œ", "ì—ì„œ"], answer: 2, hint: "ðŸ“Œ Hint: How would you say 'I go BY bus'?", explanation: "'(ìœ¼)ë¡œ' is used to indicate the tool, method, or means by which something is done (e.g., 'ì»´í“¨í„°ë¡œ ê³µë¶€í•´ìš”' - I study by computer)." },
            { question: "How do you say 'one cup of coffee'?", options: ["ì»¤í”¼ í•œ ìž”", "ì»¤í”¼ ì¼ ìž”", "ì»¤í”¼ í•˜ë‚˜ ìž”", "ì»¤í”¼ í•œ ê°œ"], answer: 0, hint: "ðŸ“Œ Hint: The counter for cups is 'ìž”', and the number 'í•˜ë‚˜' (one) changes to 'í•œ' before a counter.", explanation: "'ì»¤í”¼ í•œ ìž”' is the correct way to say 'one cup of coffee'." },
            { question: "What is the formal statement form of 'ê°€ë‹¤' (to go)?", options: ["ê°€ìš”", "ê°‘ë‹ˆë‹¤", "ê°”ìŠµë‹ˆë‹¤", "ê°€ì‹­ë‹ˆë‹¤"], answer: 1, hint: "ðŸ“Œ Hint: The formal '-ã…‚/ìŠµë‹ˆë‹¤' ending. For verb stems ending in a vowel, you add '-ã…‚ë‹ˆë‹¤'.", explanation: "'ê°‘ë‹ˆë‹¤' is the correct formal, non-past statement form of 'ê°€ë‹¤'." }
        ];
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionCounter = document.getElementById('question-counter');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const questionHint = document.getElementById('question-hint');
        const optionsContainer = document.getElementById('options-container');
        const finalScore = document.getElementById('final-score');
        const scorePercentage = document.getElementById('score-percentage');
        const feedbackModal = document.getElementById('feedback-modal');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const modalBtn = document.getElementById('modal-btn');

        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuestions = [];
        let answeredCorrectly = false;

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            shuffledQuestions = [...quizData].sort(() => Math.random() - 0.5);
            startScreen.classList.add('hidden');
            endScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            resetState();
            answeredCorrectly = false;
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            const questionNumber = currentQuestionIndex + 1;
            progressBar.style.width = `${(questionNumber / shuffledQuestions.length) * 100}%`;
            questionCounter.innerText = `Question ${questionNumber} of ${shuffledQuestions.length}`;
            questionText.innerText = currentQuestion.question;
            questionHint.innerHTML = currentQuestion.hint;
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerHTML = `<span class="font-sans mr-3 text-base text-indigo-500">${String.fromCharCode(65 + index)}</span> ${option}`;
                button.classList.add('quiz-option', 'w-full', 'text-left', 'p-4', 'border-2', 'border-gray-200', 'rounded-lg', 'text-lg', 'text-gray-800', 'hover:border-indigo-400', 'transition');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
        }

        function resetState() {
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }

        function selectAnswer(e) {
            const selectedButton = e.currentTarget;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            const isCorrect = selectedIndex === currentQuestion.answer;

            if (isCorrect) {
                if (!answeredCorrectly) {
                    score++;
                    answeredCorrectly = true;
                }
                
                Array.from(optionsContainer.children).forEach(button => {
                    button.classList.add('disabled');
                });
                selectedButton.classList.add('correct');
                
                showFeedback(true, `<strong>Correct!</strong><br><br>${currentQuestion.explanation}`);

            } else {
                selectedButton.classList.add('incorrect', 'disabled');
                showFeedback(false, `<strong>Incorrect.</strong> Please try again.<br><br>${currentQuestion.explanation}`);
            }
        }

        function showFeedback(isCorrect, explanation) {
            const modalBtn = document.getElementById('modal-btn');
            
            if (isCorrect) {
                feedbackTitle.innerText = "Correct! (ì •ë‹µ!)";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-green-600";
                modalBtn.innerText = "Next Question";
                modalBtn.className = "w-full text-white font-bold py-3 px-4 rounded-xl transition bg-green-600 hover:bg-green-700";
                modalBtn.onclick = handleNextQuestion;
            } else {
                feedbackTitle.innerText = "Incorrect (ì˜¤ë‹µ)";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-red-600";
                modalBtn.innerText = "Try Again (ë‹¤ì‹œ ì‹œë„)";
                modalBtn.className = "w-full text-white font-bold py-3 px-4 rounded-xl transition bg-red-600 hover:bg-red-700";
                modalBtn.onclick = handleTryAgain;
            }
            feedbackText.innerHTML = explanation;
            feedbackModal.classList.remove('hidden');
            setTimeout(() => feedbackModal.classList.remove('opacity-0'), 10);
        }
        
        function handleTryAgain() {
            feedbackModal.classList.add('opacity-0');
            setTimeout(() => {
                feedbackModal.classList.add('hidden');
            }, 300);
        }

        function handleNextQuestion() {
            feedbackModal.classList.add('opacity-0');
            setTimeout(() => {
                feedbackModal.classList.add('hidden');
                currentQuestionIndex++;
                if (currentQuestionIndex < shuffledQuestions.length) {
                    showQuestion();
                } else {
                    showEndScreen();
                }
            }, 300);
        }

        function showEndScreen() {
            quizScreen.classList.add('hidden');
            endScreen.classList.remove('hidden');
            const percentage = Math.round((score / shuffledQuestions.length) * 100);
            finalScore.innerText = `${score} / ${shuffledQuestions.length}`;
            scorePercentage.innerText = `${percentage}% Correct`;
        }

        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', () => {
            endScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        });

        quizScreen.classList.add('hidden');
        endScreen.classList.add('hidden');
        feedbackModal.classList.add('hidden', 'opacity-0');
    </script>
</body>
</html>
