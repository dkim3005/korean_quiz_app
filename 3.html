<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Korean Review - Set 3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans KR', sans-serif; }
        .quiz-option {
            transition: background-color 0.2s, border-color 0.2s, transform 0.1s;
        }
        .quiz-option:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .disabled { pointer-events: none; opacity: 0.7; }
        #progress-bar, #feedback-modal { transition: all 0.3s ease-in-out; }
        .correct {
            background-color: #ecfdf5 !important;
            border-color: #22c55e !important;
        }
        .incorrect {
            background-color: #fff1f2 !important;
            border-color: #ef4444 !important;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen p-4">
    <div class="w-full max-w-xl">
        <div id="quiz-screen" class="bg-white rounded-2xl shadow-2xl p-6 md:p-8">
            <div id="quiz-header" class="mb-6">
                <p class="text-sm font-semibold text-indigo-600">Set 3</p>
                <p id="question-counter" class="text-sm font-semibold text-indigo-600">Question 1 of 50</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full" style="width: 2%"></div>
                </div>
            </div>
            <div id="question-container">
                <p id="question-text" class="text-xl md:text-2xl font-bold text-gray-900 mb-4 min-h-[5rem]"></p>
                <p id="question-hint" class="text-base text-gray-500 mb-6 p-3 bg-gray-50 rounded-lg"></p>
                <div id="options-container" class="space-y-3"></div>
            </div>
        </div>
        <div id="end-screen" class="hidden text-center bg-white rounded-2xl shadow-2xl p-8 md:p-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Set 3 Complete!</h1>
            <p class="text-gray-600 mt-2 text-xl">ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!</p>
            <div class="my-8">
                <p class="text-lg text-gray-700">Your Score:</p>
                <p id="final-score" class="text-6xl font-black text-indigo-600 my-1"></p>
                <p id="score-percentage" class="text-2xl font-semibold text-gray-500"></p>
            </div>
            <button id="restart-btn" class="w-full max-w-sm mx-auto bg-indigo-600 text-white font-bold py-4 px-4 rounded-xl hover:bg-indigo-700 transition">Restart Set 3</button>
        </div>
    </div>
    <div id="feedback-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-white w-full max-w-md rounded-2xl shadow-xl p-6 text-center">
            <h2 id="feedback-title" class="text-2xl font-bold mb-2"></h2>
            <p id="feedback-text" class="text-gray-700 text-lg mb-6"></p>
            <button id="modal-btn" class="w-full text-white font-bold py-3 px-4 rounded-xl transition">Next Question</button>
        </div>
    </div>
    <script>
        const quizData = [
            { question: "What is the past tense of 'ê³µë¶€í•˜ë‹¤' (to study)?", options: ["ê³µë¶€í–ˆì–´ìš”", "ê³µë¶€í•¬ì–´ìš”", "ê³µë¶€í•´ì•˜ì–´ìš”", "ê³µë¶€í•´ìš”"], answer: 0, hint: "ðŸ“Œ Hint: Verbs ending in 'í•˜ë‹¤' become 'í–ˆì–´ìš”' in the past tense.", explanation: "'ê³µë¶€í–ˆì–´ìš”' is the correct past tense form for all 'í•˜ë‹¤' verbs." },
            { question: "How do you connect 'I ate lunch AND drank coffee'?", options: ["ì ì‹¬ì„ ë¨¹ì§€ë§Œ ì»¤í”¼ë¥¼ ë§ˆì…¨ì–´ìš”.", "ì ì‹¬ì„ ë¨¹ì–´ì„œ ì»¤í”¼ë¥¼ ë§ˆì…¨ì–´ìš”.", "ì ì‹¬ì„ ë¨¹ê³  ì»¤í”¼ë¥¼ ë§ˆì…¨ì–´ìš”.", "ì ì‹¬ì„ ë¨¹ìœ¼ë‹ˆê¹Œ ì»¤í”¼ë¥¼ ë§ˆì…¨ì–´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: Use the '-ê³ ' connector to simply list actions in sequence.", explanation: "'-ê³ ' is used to connect two or more actions in the order they occurred." },
            { question: "What is the future tense of 'ë§Œë‚˜ë‹¤' (to meet)?", options: ["ë§Œë‚¬ì–´ìš”", "ë§Œë‚˜ìš”", "ë§Œë‚  ê±°ì˜ˆìš”", "ë§Œë‚ ê¹Œìš”"], answer: 2, hint: "ðŸ“Œ Hint: Use the '-(ìœ¼)ã„¹ ê±°ì˜ˆìš”' grammar for future plans.", explanation: "'ë§Œë‚  ê±°ì˜ˆìš”' is the correct future tense, meaning 'I will meet'." },
            { question: "How do you say 'I will read a book at the library'?", options: ["ë„ì„œê´€ì—ì„œ ì±…ì„ ì½ì—ˆì–´ìš”.", "ë„ì„œê´€ì—ì„œ ì±…ì„ ì½ì„ ê±°ì˜ˆìš”.", "ë„ì„œê´€ì— ì±…ì„ ì½ì„ ê±°ì˜ˆìš”.", "ë„ì„œê´€ì—ì„œ ì±…ì„ ì½ê³  ì‹¶ì–´ìš”."], answer: 1, hint: "ðŸ“Œ Hint: Combine the location of action particle 'ì—ì„œ' with the future tense.", explanation: "'ë„ì„œê´€ì—ì„œ' marks the location of the action, and 'ì½ì„ ê±°ì˜ˆìš”' is the future tense." },
            { question: "What does 'í•˜ì§€ë§Œ' mean?", options: ["And", "So", "But / However", "Then"], answer: 2, hint: "ðŸ“Œ Hint: It's used to show contrast between two sentences.", explanation: "'í•˜ì§€ë§Œ' is a conjunction that means 'but' or 'however'." },
            { question: "Fill in the blank: 'ë¹„ê°€ ì™€ìš”. ____ ìš°ì‚°ì´ ì—†ì–´ìš”.' (It's raining. BUT I don't have an umbrella.)", options: ["ê·¸ë¦¬ê³ ", "ê·¸ëž˜ì„œ", "í•˜ì§€ë§Œ", "ê·¸ëŸ¬ë©´"], answer: 2, hint: "ðŸ“Œ Hint: The two clauses are in contrast.", explanation: "'í•˜ì§€ë§Œ' is the correct conjunction to show contrast between the two statements." },
            { question: "How do you say 'I'm tired, SO I will sleep early'?", options: ["í”¼ê³¤í•´ì„œ ì¼ì° ìž˜ ê±°ì˜ˆìš”.", "í”¼ê³¤í•˜ê³  ì¼ì° ìž˜ ê±°ì˜ˆìš”.", "í”¼ê³¤í•˜ì§€ë§Œ ì¼ì° ìž˜ ê±°ì˜ˆìš”.", "í”¼ê³¤í•˜ë©´ ì¼ì° ìž˜ ê±°ì˜ˆìš”."], answer: 0, hint: "ðŸ“Œ Hint: Use '-(ì•„/ì–´)ì„œ' to show a natural reason and result.", explanation: "'í”¼ê³¤í•´ì„œ' means 'because I'm tired', providing the reason for the following action." },
            { question: "What is the past tense of 'ì‚´ë‹¤' (to live)?", options: ["ì‚´ì•˜ì–´ìš”", "ì‚¬ëžì–´ìš”", "ì‚´ì•„ìš”", "ì‚´ì•˜ìŠµë‹ˆë‹¤"], answer: 0, hint: "ðŸ“Œ Hint: 'ì‚´ë‹¤' is a 'ã„¹' irregular verb, but it is regular in the past tense.", explanation: "'ì‚´ì•˜ì–´ìš”' is correct. The 'ã„¹' does not drop before the past tense ending." },
            { question: "How do you say 'I will go to Korea next year'?", options: ["ìž‘ë…„ì— í•œêµ­ì— ê°ˆ ê±°ì˜ˆìš”.", "ì˜¬í•´ í•œêµ­ì— ê°ˆ ê±°ì˜ˆìš”.", "ë‚´ë…„ì— í•œêµ­ì— ê°ˆ ê±°ì˜ˆìš”.", "ë§¤ë…„ í•œêµ­ì— ê°ˆ ê±°ì˜ˆìš”."], answer: 2, hint: "ðŸ“Œ Hint: 'ë‚´ë…„' means 'next year'.", explanation: "'ë‚´ë…„ì— í•œêµ­ì— ê°ˆ ê±°ì˜ˆìš”' correctly combines the word for 'next year' with the future tense." },
            { question: "Fill in the blank: 'ì˜í™”ë¥¼ ë´¤ì–´ìš”. ____ ìž¬ë¯¸ì—†ì—ˆì–´ìš”.' (I watched the movie. BUT it wasn't fun.)", options: ["ê·¸ë¦¬ê³ ", "ê·¸ëž˜ì„œ", "ê·¸ëŸ°ë°", "ê·¸ëŸ¬ë©´"], answer: 2, hint: "ðŸ“Œ Hint: 'ê·¸ëŸ°ë°' is similar to 'í•˜ì§€ë§Œ' and is used to introduce a contrasting idea.", explanation: "'ê·¸ëŸ°ë°' is often used in conversation to mean 'but' or 'by the way', introducing a twist or a change of subject." },
            { question: "What is the future tense of 'ë“£ë‹¤' (to listen)?", options: ["ë“¤ì„ ê±°ì˜ˆìš”", "ë“£ì„ ê±°ì˜ˆìš”", "ë“¤ë¥¼ ê±°ì˜ˆìš”", "ë“¤ì–´ìš”"], answer: 0, hint: "ðŸ“Œ Hint: 'ë“£ë‹¤' is a 'ã„·' irregular verb. The 'ã„·' changes to 'ã„¹' before the future tense ending.", explanation: "'ë“¤ì„ ê±°ì˜ˆìš”' is correct. The 'ã„·' becomes 'ã„¹' before the '-(ìœ¼)ã„¹ ê±°ì˜ˆìš”' ending." },
            { question: "How do you say 'If it rains, I will not go.'?", options: ["ë¹„ê°€ ì™€ì„œ ì•ˆ ê°ˆ ê±°ì˜ˆìš”.", "ë¹„ê°€ ì˜¤ë‹ˆê¹Œ ì•ˆ ê°ˆ ê±°ì˜ˆìš”.", "ë¹„ê°€ ì˜¤ë©´ ì•ˆ ê°ˆ ê±°ì˜ˆìš”.", "ë¹„ê°€ ì˜¤ì§€ë§Œ ì•ˆ ê°ˆ ê±°ì˜ˆìš”."], answer: 2, hint: "ðŸ“Œ Hint: The grammar for 'if' or 'when' is '-(ìœ¼)ë©´'.", explanation: "'ë¹„ê°€ ì˜¤ë©´' means 'if it rains', setting up a condition for the following clause." },
            { question: "What is the past tense of 'ì£¼ë‹¤' (to give)?", options: ["ì¤¬ì–´ìš”", "ì£¼ì—ˆì–´ìš”", "A and B are both correct", "ì£¼ì› ì–´ìš”"], answer: 2, hint: "ðŸ“Œ Hint: 'ì£¼ì—ˆì–´ìš”' can be contracted.", explanation: "Both are correct. 'ì¤¬ì–´ìš”' is the common contracted form of 'ì£¼ì—ˆì–´ìš”'." },
            { question: "How do you say 'I studied hard, so the test was easy'?", options: ["ì—´ì‹¬ížˆ ê³µë¶€í•´ì„œ ì‹œí—˜ì´ ì‰¬ì› ì–´ìš”.", "ì—´ì‹¬ížˆ ê³µë¶€í–ˆì§€ë§Œ ì‹œí—˜ì´ ì‰¬ì› ì–´ìš”.", "ì—´ì‹¬ížˆ ê³µë¶€í•˜ê³  ì‹œí—˜ì´ ì‰¬ì› ì–´ìš”.", "ì—´ì‹¬ížˆ ê³µë¶€í•˜ë©´ ì‹œí—˜ì´ ì‰¬ì› ì–´ìš”."], answer: 0, hint: "ðŸ“Œ Hint: The first clause is the reason for the second clause.", explanation: "'ê³µë¶€í•´ì„œ' (because I studied) correctly links the reason to the result." },
            { question: "What is the future tense of 'ë†€ë‹¤' (to play)?", options: ["ë†€ì„ ê±°ì˜ˆìš”", "ë†€ ê±°ì˜ˆìš”", "ë†€ã„¹ ê±°ì˜ˆìš”", "ë†€ì•„ìš”"], answer: 1, hint: "ðŸ“Œ Hint: For 'ã„¹' irregular verbs, you drop the 'ã„¹' and add 'ã„¹ ê±°ì˜ˆìš”'.", explanation: "'ë†€ ê±°ì˜ˆìš”' is correct. The verb stem 'ë†€-' already ends in 'ã„¹', so you just add ' ê±°ì˜ˆìš”'." },
            { question: "How do you say 'I met a friend and we ate together'?", options: ["ì¹œêµ¬ë¥¼ ë§Œë‚˜ì„œ ê°™ì´ ë°¥ì„ ë¨¹ì—ˆì–´ìš”.", "ì¹œêµ¬ë¥¼ ë§Œë‚˜ê³  ê°™ì´ ë°¥ì„ ë¨¹ì—ˆì–´ìš”.", "A and B can be correct", "ì¹œêµ¬ë¥¼ ë§Œë‚˜ë©´ ê°™ì´ ë°¥ì„ ë¨¹ì—ˆì–´ìš”."], answer: 2, hint: "ðŸ“Œ Hint: Both '-ê³ ' and '-ì•„ì„œ' can be used here, but they have slightly different nuances.", explanation: "Both can be correct. '-ê³ ' simply lists the events. '-ì•„ì„œ' implies that meeting the friend led to eating together, which is also natural." },
            { question: "What is the past tense of 'ì“°ë‹¤' (to write)?", options: ["ì¼ì–´ìš”", "ì“°ì—ˆì–´ìš”", "ì¨ìš”", "ì¼ìŠµë‹ˆë‹¤"], answer: 0, hint: "ðŸ“Œ Hint: For verbs ending in the vowel 'ìœ¼', the 'ìœ¼' is dropped and the ending is determined by the preceding vowel (or lack thereof).", explanation: "'ì¼ì–´ìš”' is correct. The 'ìœ¼' is dropped from 'ì“°ë‹¤', and since there's no other vowel, '-ì—ˆì–´ìš”' is added." },
            { question: "How do you say 'I will clean my room tomorrow'?", options: ["ë‚´ì¼ ë°©ì„ ì²­ì†Œí•´ìš”.", "ë‚´ì¼ ë°©ì„ ì²­ì†Œí–ˆì–´ìš”.", "ë‚´ì¼ ë°©ì„ ì²­ì†Œí•  ê±°ì˜ˆìš”.", "ë‚´ì¼ ë°©ì„ ì²­ì†Œí• ê¹Œìš”?"], answer: 2, hint: "ðŸ“Œ Hint: 'ë‚´ì¼' (tomorrow) requires the future tense.", explanation: "'ì²­ì†Œí•  ê±°ì˜ˆìš”' is the future tense of 'ì²­ì†Œí•˜ë‹¤', matching the time word 'ë‚´ì¼'." },
            { question: "What does 'ê·¸ëŸ¬ë©´' mean?", options: ["And", "But", "So/Therefore", "Then / In that case"], answer: 3, hint: "ðŸ“Œ Hint: It's often used to start a sentence after hearing some information.", explanation: "'ê·¸ëŸ¬ë©´' means 'then' or 'in that case', used to logically proceed from a previous statement." },
            { question: "How do you say 'I am going to the bank to withdraw money'?", options: ["ëˆì„ ì°¾ê³  ì€í–‰ì— ê°€ìš”.", "ëˆì„ ì°¾ìœ¼ëŸ¬ ì€í–‰ì— ê°€ìš”.", "ëˆì„ ì°¾ì•„ì„œ ì€í–‰ì— ê°€ìš”.", "ëˆì„ ì°¾ì§€ë§Œ ì€í–‰ì— ê°€ìš”."], answer: 1, hint: "ðŸ“Œ Hint: The grammar '-(ìœ¼)ëŸ¬ ê°€ë‹¤' is used to express the purpose of going somewhere.", explanation: "'ì°¾ìœ¼ëŸ¬' is correct. '-(ìœ¼)ëŸ¬ ê°€ë‹¤' means 'to go (in order) to do (verb)'." },
            { question: "What is the past tense of 'ì•„í”„ë‹¤' (to be sick/hurt)?", options: ["ì•„íŒ ì–´ìš”", "ì•„íŽì–´ìš”", "ì•„í”„ì—ˆì–´ìš”", "ì•„íŒŒìš”"], answer: 0, hint: "ðŸ“Œ Hint: For stems ending in 'ìœ¼', the 'ìœ¼' is dropped. The ending depends on the vowel in the first syllable.", explanation: "'ì•„íŒ ì–´ìš”' is correct. The 'ìœ¼' drops, and because the first syllable has 'ã…', '-ì•˜ì–´ìš”' is added." },
            { question: "How do you say 'I will buy a gift for my friend's birthday'?", options: ["ì¹œêµ¬ ìƒì¼ì´ë¼ì„œ ì„ ë¬¼ì„ ì‚´ ê±°ì˜ˆìš”.", "ì¹œêµ¬ ìƒì¼ì´ê³  ì„ ë¬¼ì„ ì‚´ ê±°ì˜ˆìš”.", "ì¹œêµ¬ ìƒì¼ì´ì§€ë§Œ ì„ ë¬¼ì„ ì‚´ ê±°ì˜ˆìš”.", "ì¹œêµ¬ ìƒì¼ì´ë©´ ì„ ë¬¼ì„ ì‚´ ê±°ì˜ˆìš”."], answer: 0, hint: "ðŸ“Œ Hint: 'Because it's my friend's birthday...'", explanation: "'-(ì´)ë¼ì„œ' is the '-(ì•„/ì–´)ì„œ' form for nouns, meaning 'because it is (noun)'." },
            { question: "What is the future tense of 'ë•ë‹¤' (to help)?", options: ["ë„ìš¸ ê±°ì˜ˆìš”", "ë•ì„ ê±°ì˜ˆìš”", "ë„ì™€ìš”", "ë„ìš¸ê¹Œìš”"], answer: 0, hint: "ðŸ“Œ Hint: 'ë•ë‹¤' is a 'ã…‚' irregular verb. Remember it changes to 'ì˜¤' before a vowel.", explanation: "'ë„ìš¸ ê±°ì˜ˆìš”' is correct. The 'ã…‚' in 'ë•ë‹¤' changes to 'ì˜¤', which then combines with '-(ìœ¼)ã„¹ ê±°ì˜ˆìš”'." },
            { question: "How do you say 'After work, I will go home'?", options: ["ì¼ì´ ëë‚˜ê³  ì§‘ì— ê°ˆ ê±°ì˜ˆìš”.", "ì¼ì´ ëë‚˜ì„œ ì§‘ì— ê°ˆ ê±°ì˜ˆìš”.", "ì¼ì´ ëë‚˜ë©´ ì§‘ì— ê°ˆ ê±°ì˜ˆìš”.", "ì¼ì´ ëë‚˜ì§€ë§Œ ì§‘ì— ê°ˆ ê±°ì˜ˆìš”."], answer: 2, hint: "ðŸ“Œ Hint: '-(ìœ¼)ë©´' can mean 'if', but it can also mean 'when' for a future event.", explanation: "'ì¼ì´ ëë‚˜ë©´' is a very natural way to say 'When work is finished...'. '-ê³ ' is also possible but '-(ìœ¼)ë©´' is common." },
            { question: "What is the past tense of 'ë°°ìš°ë‹¤' (to learn)?", options: ["ë°°ì› ì–´ìš”", "ë°°ìš°ì—ˆì–´ìš”", "ë°°ì™”ì–´ìš”", "ë°°ì›Œìš”"], answer: 0, hint: "ðŸ“Œ Hint: The verb stem ends in 'ìš°'. How does it combine with '-ì—ˆì–´ìš”'?", explanation: "'ë°°ì› ì–´ìš”' is correct. 'ìš°' and 'ì–´' combine to form 'ì› '." },
            { question: "How do you say 'I'm going to the library, and then I'm going to the market'?", options: ["ë„ì„œê´€ì— ê°€ê³  ê·¸ë¦¬ê³  ì‹œìž¥ì— ê°ˆ ê±°ì˜ˆìš”.", "ë„ì„œê´€ì— ê°€ê³  ì‹œìž¥ì— ê°ˆ ê±°ì˜ˆìš”.", "ë„ì„œê´€ì— ê°€ì„œ ì‹œìž¥ì— ê°ˆ ê±°ì˜ˆìš”.", "ë„ì„œê´€ì— ê°€ì§€ë§Œ ì‹œìž¥ì— ê°ˆ ê±°ì˜ˆìš”."], answer: 1, hint: "ðŸ“Œ Hint: You can simply connect the two clauses with '-ê³ '.", explanation: "'ê°€ê³ ' is the simplest way to connect two sequential actions." },
            { question: "What is the past tense of 'ëª¨ë¥´ë‹¤' (to not know)?", options: ["ëª°ëžì–´ìš”", "ëª¨ë¥´ì—ˆì–´ìš”", "ëª°ì•˜ì–´ìš”", "ëª¨ëžì–´ìš”"], answer: 0, hint: "ðŸ“Œ Hint: This is a 'ë¥´' irregular verb.", explanation: "'ëª°ëžì–´ìš”' is correct. For 'ë¥´' irregular verbs, an extra 'ã„¹' is added and it conjugates based on the preceding vowel." },
            { question: "How do you say 'I will not work tomorrow'?", options: ["ë‚´ì¼ ì¼ì„ ëª»í•  ê±°ì˜ˆìš”.", "ë‚´ì¼ ì¼ì„ ì•ˆ í•  ê±°ì˜ˆìš”.", "ë‚´ì¼ ì¼ì„ í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”.", "B and C are both correct."], answer: 3, hint: "ðŸ“Œ Hint: 'ì•ˆ' can go before the verb, or '-ì§€ ì•Šë‹¤' can go after the verb stem.", explanation: "Both 'ì•ˆ í•  ê±°ì˜ˆìš”' and 'í•˜ì§€ ì•Šì„ ê±°ì˜ˆìš”' are correct ways to say 'will not do'. 'ì•ˆ' is generally more conversational." },
            { question: "What is the future tense of 'ì‚´ë‹¤' (to live)?", options: ["ì‚´ì„ ê±°ì˜ˆìš”", "ì‚´ ê±°ì˜ˆìš”", "ì‚´ã„¹ ê±°ì˜ˆìš”", "ì‚´ì•„ìš”"], answer: 1, hint: "ðŸ“Œ Hint: For verb stems that already end in 'ã„¹', you just add ' ê±°ì˜ˆìš”'.", explanation: "'ì‚´ ê±°ì˜ˆìš”' is correct. You don't add an extra 'ã„¹'." },
            { question: "How do you say 'I will exercise after I wake up'?", options: ["ì¼ì–´ë‚˜ê³  ìš´ë™í•  ê±°ì˜ˆìš”.", "ì¼ì–´ë‚˜ì„œ ìš´ë™í•  ê±°ì˜ˆìš”.", "ì¼ì–´ë‚˜ë©´ ìš´ë™í•  ê±°ì˜ˆìš”.", "B and C are both natural"], answer: 3, hint: "ðŸ“Œ Hint: Both 'when I wake up' and 'after waking up' make sense here.", explanation: "Both are very natural. 'ì¼ì–´ë‚˜ì„œ' implies a close connection between the two actions. 'ì¼ì–´ë‚˜ë©´' sets waking up as the condition for exercising." },
            { question: "What is the past tense of 'ê¸°ë‹¤ë¦¬ë‹¤' (to wait)?", options: ["ê¸°ë‹¤ë ¸ì–´ìš”", "ê¸°ë‹¤ë¦¬ì—ˆì–´ìš”", "ê¸°ë‹¤ëžì–´ìš”", "ê¸°ë‹¤ë ¤ìš”"], answer: 0, hint: "ðŸ“Œ Hint: The verb stem ends in 'ë¦¬'. How does 'ë¦¬' combine with '-ì—ˆì–´ìš”'?", explanation: "'ê¸°ë‹¤ë ¸ì–´ìš”' is correct. The 'ã…£' vowel combines with 'ì–´' to make 'ì—¬'." },
            { question: "How do you say 'I will call you when I arrive'?", options: ["ë„ì°©í•˜ê³  ì „í™”í• ê²Œìš”.", "ë„ì°©í•´ì„œ ì „í™”í• ê²Œìš”.", "ë„ì°©í•˜ë©´ ì „í™”í• ê²Œìš”.", "ë„ì°©í•˜ì§€ë§Œ ì „í™”í• ê²Œìš”."], answer: 2, hint: "ðŸ“Œ Hint: Use '-(ìœ¼)ë©´' for 'when' a future action happens.", explanation: "'ë„ì°©í•˜ë©´' means 'when I arrive', setting the condition for the promise 'ì „í™”í• ê²Œìš”' (I'll call you)." },
            { question: "What is the past tense of 'íë¦¬ë‹¤' (to be cloudy)?", options: ["íë¦¬ì—ˆì–´ìš”", "íë ¸ì–´ìš”", "íëžì–´ìš”", "íë ¤ìš”"], answer: 1, hint: "ðŸ“Œ Hint: Similar to 'ê¸°ë‹¤ë¦¬ë‹¤', the 'ã…£' vowel combines with 'ì–´'.", explanation: "'íë ¸ì–´ìš”' is correct. 'íë¦¬ + ì—ˆì–´ìš”' becomes 'íë ¸ì–´ìš”'." },
            { question: "How do you say 'I was tired, but I did my homework'?", options: ["í”¼ê³¤í•´ì„œ ìˆ™ì œí–ˆì–´ìš”.", "í”¼ê³¤í–ˆì§€ë§Œ ìˆ™ì œí–ˆì–´ìš”.", "í”¼ê³¤í•˜ê³  ìˆ™ì œí–ˆì–´ìš”.", "í”¼ê³¤í•˜ë©´ ìˆ™ì œí–ˆì–´ìš”."], answer: 1, hint: "ðŸ“Œ Hint: Use '-ì§€ë§Œ' to show contrast.", explanation: "'í”¼ê³¤í–ˆì§€ë§Œ' means 'although I was tired' or 'I was tired, but...'" },
            { question: "What is the future tense of 'ì§“ë‹¤' (to build)?", options: ["ì§€ì„ ê±°ì˜ˆìš”", "ì§“ì„ ê±°ì˜ˆìš”", "ì§€ì–´ìš”", "ì§€ì„ê¹Œìš”"], answer: 0, hint: "ðŸ“Œ Hint: 'ì§“ë‹¤' is a 'ã……' irregular verb. The 'ã……' disappears before a vowel.", explanation: "'ì§€ì„ ê±°ì˜ˆìš”' is correct. The 'ã……' is dropped before the vowel in '-(ìœ¼)ã„¹ ê±°ì˜ˆìš”'." },
            { question: "How do you say 'I'm going to the market to buy apples'?", options: ["ì‚¬ê³¼ë¥¼ ì‚¬ê³  ì‹œìž¥ì— ê°€ìš”.", "ì‚¬ê³¼ë¥¼ ì‚¬ì„œ ì‹œìž¥ì— ê°€ìš”.", "ì‚¬ê³¼ë¥¼ ì‚¬ëŸ¬ ì‹œìž¥ì— ê°€ìš”.", "ì‚¬ê³¼ë¥¼ ì‚¬ì§€ë§Œ ì‹œìž¥ì— ê°€ìš”."], answer: 2, hint: "ðŸ“Œ Hint: Use '-(ìœ¼)ëŸ¬ ê°€ë‹¤' to show the purpose of going.", explanation: "'ì‚¬ëŸ¬ ê°€ìš”' means 'go to buy', correctly expressing the purpose." },
            { question: "What is the past tense of 'ë¹ ë¥´ë‹¤' (to be fast)?", options: ["ë¹¨ë¥´ì—ˆì–´ìš”", "ë¹¨ëžì–´ìš”", "ë¹¨ë¼ìš”", "ë¹¨ëžìŠµë‹ˆë‹¤"], answer: 1, hint: "ðŸ“Œ Hint: 'ë¹ ë¥´ë‹¤' is a 'ë¥´' irregular verb.", explanation: "'ë¹¨ëžì–´ìš”' is correct. For 'ë¥´' irregular verbs, an extra 'ã„¹' is added to the syllable before." },
            { question: "How do you say 'I will rest if I'm tired tomorrow'?", options: ["ë‚´ì¼ í”¼ê³¤í•´ì„œ ì‰´ ê±°ì˜ˆìš”.", "ë‚´ì¼ í”¼ê³¤í•˜ë‹ˆê¹Œ ì‰´ ê±°ì˜ˆìš”.", "ë‚´ì¼ í”¼ê³¤í•˜ë©´ ì‰´ ê±°ì˜ˆìš”.", "ë‚´ì¼ í”¼ê³¤í•˜ê³  ì‰´ ê±°ì˜ˆìš”."], answer: 2, hint: "ðŸ“Œ Hint: Use '-(ìœ¼)ë©´' for a hypothetical 'if' condition.", explanation: "'í”¼ê³¤í•˜ë©´' means 'if I'm tired', setting the condition." },
            { question: "What is the past tense of 'ì—´ë‹¤' (to open)?", options: ["ì—´ì—ˆì–´ìš”", "ì—´ì•˜ì–´ìš”", "ì—´ì–´ìš”", "ì—´ì—ˆìŠµë‹ˆë‹¤"], answer: 0, hint: "ðŸ“Œ Hint: 'ì—´ë‹¤' is a regular verb.", explanation: "'ì—´ì—ˆì–´ìš”' is correct. It follows the standard conjugation rule for verbs ending in 'ã„¹'." },
            { question: "How do you say 'I will watch a movie after I finish my homework'?", options: ["ìˆ™ì œë¥¼ ëë‚´ê³  ì˜í™”ë¥¼ ë³¼ ê±°ì˜ˆìš”.", "ìˆ™ì œë¥¼ ëë‚´ì„œ ì˜í™”ë¥¼ ë³¼ ê±°ì˜ˆìš”.", "ìˆ™ì œë¥¼ ëë‚´ë©´ ì˜í™”ë¥¼ ë³¼ ê±°ì˜ˆìš”.", "A and C are both natural"], answer: 3, hint: "ðŸ“Œ Hint: Both 'and then' and 'when/if' work well here.", explanation: "Both are natural. 'ëë‚´ê³ ' simply lists the sequence. 'ëë‚´ë©´' means 'when I finish', which also fits perfectly." },
            { question: "What is the past tense of 'ê³ ë¥´ë‹¤' (to choose)?", options: ["ê³ ë¥´ì—ˆì–´ìš”", "ê³¨ëžì–´ìš”", "ê³ ëžì–´ìš”", "ê³¨ë¼ìš”"], answer: 1, hint: "ðŸ“Œ Hint: This is a 'ë¥´' irregular verb.", explanation: "'ê³¨ëžì–´ìš”' is correct. It follows the 'ë¥´' irregular conjugation rule." },
            { question: "How do you say 'I was happy because I met my friend'?", options: ["ì¹œêµ¬ë¥¼ ë§Œë‚˜ì„œ ê¸°ë»¤ì–´ìš”.", "ì¹œêµ¬ë¥¼ ë§Œë‚˜ê³  ê¸°ë»¤ì–´ìš”.", "ì¹œêµ¬ë¥¼ ë§Œë‚¬ì§€ë§Œ ê¸°ë»¤ì–´ìš”.", "ì¹œêµ¬ë¥¼ ë§Œë‚˜ë©´ ê¸°ë»¤ì–´ìš”."], answer: 0, hint: "ðŸ“Œ Hint: Use '-(ì•„/ì–´)ì„œ' for the reason.", explanation: "'ë§Œë‚˜ì„œ' (because I met) correctly provides the reason for feeling happy." },
            { question: "What is the future tense of 'ê±·ë‹¤' (to walk)?", options: ["ê±¸ì„ ê±°ì˜ˆìš”", "ê±·ì„ ê±°ì˜ˆìš”", "ê±¸ë¥¼ ê±°ì˜ˆìš”", "ê±¸ì–´ìš”"], answer: 0, hint: "ðŸ“Œ Hint: This is a 'ã„·' irregular verb.", explanation: "'ê±¸ì„ ê±°ì˜ˆìš”' is correct. The 'ã„·' changes to 'ã„¹' before the future tense ending." },
            { question: "How do you say 'I will call my parents this weekend'?", options: ["ì´ë²ˆ ì£¼ë§ì— ë¶€ëª¨ë‹˜ê»˜ ì „í™”í•  ê±°ì˜ˆìš”.", "ì´ë²ˆ ì£¼ë§ì— ë¶€ëª¨ë‹˜ì„ ì „í™”í•  ê±°ì˜ˆìš”.", "ì´ë²ˆ ì£¼ë§ì— ë¶€ëª¨ë‹˜ì—ì„œ ì „í™”í•  ê±°ì˜ˆìš”.", "ì´ë²ˆ ì£¼ë§ì— ë¶€ëª¨ë‹˜ì´ ì „í™”í•  ê±°ì˜ˆìš”."], answer: 0, hint: "ðŸ“Œ Hint: The particle 'ê»˜' is the honorific version of 'ì—ê²Œ' (to someone).", explanation: "'ë¶€ëª¨ë‹˜ê»˜' is the correct and polite way to say 'to my parents'." },
            { question: "What is the past tense of 'íŒŒëž—ë‹¤' (to be blue)?", options: ["íŒŒëž—ì•˜ì–´ìš”", "íŒŒëž¬ì–´ìš”", "íŒŒëž˜ìš”", "íŒŒëž—ìŠµë‹ˆë‹¤"], answer: 1, hint: "ðŸ“Œ Hint: This is a 'ã…Ž' irregular adjective.", explanation: "'íŒŒëž¬ì–´ìš”' is correct. The 'ã…Ž' is dropped and 'ã…' changes to 'ã…' before the ending." },
            { question: "How do you say 'I will go hiking if the weather is good'?", options: ["ë‚ ì”¨ê°€ ì¢‹ì•„ì„œ ë“±ì‚°í•  ê±°ì˜ˆìš”.", "ë‚ ì”¨ê°€ ì¢‹ìœ¼ë‹ˆê¹Œ ë“±ì‚°í•  ê±°ì˜ˆìš”.", "ë‚ ì”¨ê°€ ì¢‹ìœ¼ë©´ ë“±ì‚°í•  ê±°ì˜ˆìš”.", "ë‚ ì”¨ê°€ ì¢‹ì§€ë§Œ ë“±ì‚°í•  ê±°ì˜ˆìš”."], answer: 2, hint: "ðŸ“Œ Hint: Use '-(ìœ¼)ë©´' for an 'if' condition.", explanation: "'ë‚ ì”¨ê°€ ì¢‹ìœ¼ë©´' means 'if the weather is good'." },
            { question: "What is the past tense of 'ìžë¥´ë‹¤' (to cut)?", options: ["ìž˜ëžì–´ìš”", "ìžë¥´ì—ˆì–´ìš”", "ìžëžì–´ìš”", "ìž˜ë¼ìš”"], answer: 0, hint: "ðŸ“Œ Hint: This is a 'ë¥´' irregular verb.", explanation: "'ìž˜ëžì–´ìš”' is the correct past tense form, following the 'ë¥´' irregular rule." },
            { question: "How do you say 'I will decide after I think about it'?", options: ["ìƒê°í•´ ë³´ê³  ê²°ì •í• ê²Œìš”.", "ìƒê°í•´ ë´ì„œ ê²°ì •í• ê²Œìš”.", "ìƒê°í•´ ë³´ë©´ ê²°ì •í• ê²Œìš”.", "A and C are both natural"], answer: 3, hint: "ðŸ“Œ Hint: '-ê³ ' (and then) and '-ë©´' (when/if) both fit the context.", explanation: "Both are natural. 'ìƒê°í•´ ë³´ê³ ' implies a sequence: first think, then decide. 'ìƒê°í•´ ë³´ë©´' implies 'When I've thought about it, I'll decide'." },
            { question: "What is the future tense of 'ì—´ë‹¤' (to open)?", options: ["ì—´ì„ ê±°ì˜ˆìš”", "ì—´ ê±°ì˜ˆìš”", "ì—´ã„¹ ê±°ì˜ˆìš”", "ì—´ì–´ìš”"], answer: 1, hint: "ðŸ“Œ Hint: For verb stems ending in 'ã„¹', just add ' ê±°ì˜ˆìš”'.", explanation: "'ì—´ ê±°ì˜ˆìš”' is correct. You do not add an extra 'ã„¹'." },
            { question: "How do you say 'I came to Korea to study Korean'?", options: ["í•œêµ­ì–´ë¥¼ ê³µë¶€í•´ëŸ¬ í•œêµ­ì— ì™”ì–´ìš”.", "í•œêµ­ì–´ë¥¼ ê³µë¶€í•˜ëŸ¬ í•œêµ­ì— ì™”ì–´ìš”.", "í•œêµ­ì–´ë¥¼ ê³µë¶€í•´ì„œ í•œêµ­ì— ì™”ì–´ìš”.", "í•œêµ­ì–´ë¥¼ ê³µë¶€í•˜ê³  í•œêµ­ì— ì™”ì–´ìš”."], answer: 1, hint: "ðŸ“Œ Hint: Use '-(ìœ¼)ëŸ¬ ì˜¤ë‹¤' to express the purpose of coming.", explanation: "'ê³µë¶€í•˜ëŸ¬' is correct, meaning '(in order) to study'." }
        ];
        
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const restartBtn = document.getElementById('restart-btn');
        const questionCounter = document.getElementById('question-counter');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const questionHint = document.getElementById('question-hint');
        const optionsContainer = document.getElementById('options-container');
        const finalScore = document.getElementById('final-score');
        const scorePercentage = document.getElementById('score-percentage');
        const feedbackModal = document.getElementById('feedback-modal');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const modalBtn = document.getElementById('modal-btn');

        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuestions = [];
        let answeredCorrectly = false;

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            shuffledQuestions = [...quizData].sort(() => Math.random() - 0.5);
            quizScreen.classList.remove('hidden');
            endScreen.classList.add('hidden');
            showQuestion();
        }

        function showQuestion() {
            resetState();
            answeredCorrectly = false;
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            const questionNumber = currentQuestionIndex + 1;
            progressBar.style.width = `${(questionNumber / shuffledQuestions.length) * 100}%`;
            questionCounter.innerText = `Question ${questionNumber} of ${shuffledQuestions.length}`;
            questionText.innerText = currentQuestion.question;
            questionHint.innerHTML = currentQuestion.hint;
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerHTML = `<span class="font-sans mr-3 text-base text-indigo-500">${String.fromCharCode(65 + index)}</span> ${option}`;
                button.classList.add('quiz-option', 'w-full', 'text-left', 'p-4', 'border-2', 'border-gray-200', 'rounded-lg', 'text-lg', 'text-gray-800', 'hover:border-indigo-400', 'transition');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
        }

        function resetState() {
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }

        function selectAnswer(e) {
            const selectedButton = e.currentTarget;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            const isCorrect = selectedIndex === currentQuestion.answer;

            if (isCorrect) {
                if (!answeredCorrectly) {
                    score++;
                    answeredCorrectly = true;
                }
                
                Array.from(optionsContainer.children).forEach(button => {
                    button.classList.add('disabled');
                });
                selectedButton.classList.add('correct');
                
                showFeedback(true, `<strong>Correct!</strong><br><br>${currentQuestion.explanation}`);

            } else {
                selectedButton.classList.add('incorrect', 'disabled');
                showFeedback(false, `<strong>Incorrect.</strong> Please try again.<br><br>${currentQuestion.explanation}`);
            }
        }

        function showFeedback(isCorrect, explanation) {
            const modalBtn = document.getElementById('modal-btn');
            
            if (isCorrect) {
                feedbackTitle.innerText = "Correct! (ì •ë‹µ!)";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-green-600";
                modalBtn.innerText = "Next Question";
                modalBtn.className = "w-full text-white font-bold py-3 px-4 rounded-xl transition bg-green-600 hover:bg-green-700";
                modalBtn.onclick = handleNextQuestion;
            } else {
                feedbackTitle.innerText = "Incorrect (ì˜¤ë‹µ)";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-red-600";
                modalBtn.innerText = "Try Again (ë‹¤ì‹œ ì‹œë„)";
                modalBtn.className = "w-full text-white font-bold py-3 px-4 rounded-xl transition bg-red-600 hover:bg-red-700";
                modalBtn.onclick = handleTryAgain;
            }
            feedbackText.innerHTML = explanation;
            feedbackModal.classList.remove('hidden');
            setTimeout(() => feedbackModal.classList.remove('opacity-0'), 10);
        }
        
        function handleTryAgain() {
            feedbackModal.classList.add('opacity-0');
            setTimeout(() => {
                feedbackModal.classList.add('hidden');
            }, 300);
        }

        function handleNextQuestion() {
            feedbackModal.classList.add('opacity-0');
            setTimeout(() => {
                feedbackModal.classList.add('hidden');
                currentQuestionIndex++;
                if (currentQuestionIndex < shuffledQuestions.length) {
                    showQuestion();
                } else {
                    showEndScreen();
                }
            }, 300);
        }

        function showEndScreen() {
            quizScreen.classList.add('hidden');
            endScreen.classList.remove('hidden');
            const percentage = Math.round((score / shuffledQuestions.length) * 100);
            finalScore.innerText = `${score} / ${shuffledQuestions.length}`;
            scorePercentage.innerText = `${percentage}% Correct`;
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            startQuiz();
        });

        restartBtn.addEventListener('click', () => {
            endScreen.classList.add('hidden');
            startQuiz();
        });
    </script>
</body>
</html>
